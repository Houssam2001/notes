"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/notes";
exports.ids = ["pages/api/notes"];
exports.modules = {

/***/ "serverless-mysql":
/*!***********************************!*\
  !*** external "serverless-mysql" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("serverless-mysql");

/***/ }),

/***/ "iron-session":
/*!*******************************!*\
  !*** external "iron-session" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("iron-session");;

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("uuid");;

/***/ }),

/***/ "(api)/./src/libs/db.ts":
/*!************************!*\
  !*** ./src/libs/db.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"db\": () => (/* binding */ db),\n/* harmony export */   \"executeQuery\": () => (/* binding */ executeQuery)\n/* harmony export */ });\n/* harmony import */ var serverless_mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! serverless-mysql */ \"serverless-mysql\");\n/* harmony import */ var serverless_mysql__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(serverless_mysql__WEBPACK_IMPORTED_MODULE_0__);\n\nconst db = serverless_mysql__WEBPACK_IMPORTED_MODULE_0___default()({\n    config: {\n        host: process.env.MYSQL_HOST,\n        database: process.env.MYSQL_DATABASE,\n        user: process.env.MYSQL_USERNAME,\n        password: process.env.MYSQL_PASSWORD,\n        port: parseInt(process.env.MYSQL_PORT)\n    }\n});\nasync function executeQuery(query, values = []) {\n    try {\n        const results = await db.query(query, values);\n        await db.end();\n        return results;\n    } catch (error) {\n        return {\n            error\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGlicy9kYi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9DO0FBRTdCLE1BQU1DLEVBQUUsR0FBR0QsdURBQUssQ0FBQztJQUNwQkUsTUFBTSxFQUFFO1FBQ0pDLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVU7UUFDNUJDLFFBQVEsRUFBRUgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLGNBQWM7UUFDcENDLElBQUksRUFBRUwsT0FBTyxDQUFDQyxHQUFHLENBQUNLLGNBQWM7UUFDaENDLFFBQVEsRUFBRVAsT0FBTyxDQUFDQyxHQUFHLENBQUNPLGNBQWM7UUFDcENDLElBQUksRUFBRUMsUUFBUSxDQUFDVixPQUFPLENBQUNDLEdBQUcsQ0FBQ1UsVUFBVSxDQUFXO0tBQ25EO0NBQ0osQ0FBQztBQUVLLGVBQWVDLFlBQVksQ0FBQ0MsS0FBYSxFQUFFQyxNQUE2QyxHQUFHLEVBQUUsRUFBRTtJQUNsRyxJQUFJO1FBQ0EsTUFBTUMsT0FBTyxHQUFHLE1BQU1sQixFQUFFLENBQUNnQixLQUFLLENBQUNBLEtBQUssRUFBRUMsTUFBTSxDQUFDO1FBQzdDLE1BQU1qQixFQUFFLENBQUNtQixHQUFHLEVBQUU7UUFDZCxPQUFPRCxPQUFPO0lBQ2xCLEVBQUUsT0FBT0UsS0FBSyxFQUFFO1FBQ1osT0FBTztZQUFFQSxLQUFLO1NBQUU7SUFDcEIsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rlcy8uL3NyYy9saWJzL2RiLnRzPzMyZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ3NlcnZlcmxlc3MtbXlzcWwnXHJcblxyXG5leHBvcnQgY29uc3QgZGIgPSBteXNxbCh7XHJcbiAgICBjb25maWc6IHtcclxuICAgICAgICBob3N0OiBwcm9jZXNzLmVudi5NWVNRTF9IT1NULFxyXG4gICAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5NWVNRTF9EQVRBQkFTRSxcclxuICAgICAgICB1c2VyOiBwcm9jZXNzLmVudi5NWVNRTF9VU0VSTkFNRSxcclxuICAgICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuTVlTUUxfUEFTU1dPUkQsXHJcbiAgICAgICAgcG9ydDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuTVlTUUxfUE9SVCBhcyBzdHJpbmcpLFxyXG4gICAgfSxcclxufSlcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlUXVlcnkocXVlcnk6IHN0cmluZywgdmFsdWVzOiAoc3RyaW5nIHwgbnVtYmVyKVtdIHwgc3RyaW5nIHwgbnVtYmVyID0gW10pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGRiLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpXHJcbiAgICAgICAgYXdhaXQgZGIuZW5kKClcclxuICAgICAgICByZXR1cm4gcmVzdWx0c1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4geyBlcnJvciB9XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIm15c3FsIiwiZGIiLCJjb25maWciLCJob3N0IiwicHJvY2VzcyIsImVudiIsIk1ZU1FMX0hPU1QiLCJkYXRhYmFzZSIsIk1ZU1FMX0RBVEFCQVNFIiwidXNlciIsIk1ZU1FMX1VTRVJOQU1FIiwicGFzc3dvcmQiLCJNWVNRTF9QQVNTV09SRCIsInBvcnQiLCJwYXJzZUludCIsIk1ZU1FMX1BPUlQiLCJleGVjdXRlUXVlcnkiLCJxdWVyeSIsInZhbHVlcyIsInJlc3VsdHMiLCJlbmQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/libs/db.ts\n");

/***/ }),

/***/ "(api)/./src/libs/with-session.ts":
/*!**********************************!*\
  !*** ./src/libs/with-session.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"sessionOptions\": () => (/* binding */ sessionOptions),\n/* harmony export */   \"withSessionRoute\": () => (/* binding */ withSessionRoute),\n/* harmony export */   \"withSessionSsr\": () => (/* binding */ withSessionSsr)\n/* harmony export */ });\n/* harmony import */ var iron_session_next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! iron-session/next */ \"(api)/./node_modules/iron-session/next/dist/index.mjs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([iron_session_next__WEBPACK_IMPORTED_MODULE_0__]);\niron_session_next__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst sessionOptions = {\n    password: process.env.SECRET,\n    cookieName: \"auth\",\n    // secure: true should be used in production (HTTPS) but can't be used in development (HTTP)\n    cookieOptions: {\n        secure: \"development\" === \"production\"\n    }\n};\nfunction withSessionRoute(handler) {\n    return (0,iron_session_next__WEBPACK_IMPORTED_MODULE_0__.withIronSessionApiRoute)(handler, sessionOptions);\n}\nfunction withSessionSsr(handler) {\n    return (0,iron_session_next__WEBPACK_IMPORTED_MODULE_0__.withIronSessionSsr)(handler, sessionOptions);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGlicy93aXRoLXNlc3Npb24udHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUErRTtBQVV4RSxNQUFNRSxjQUFjLEdBQUc7SUFDMUJDLFFBQVEsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLE1BQU07SUFDNUJDLFVBQVUsRUFBRSxNQUFNO0lBQ2xCLDRGQUE0RjtJQUM1RkMsYUFBYSxFQUFFO1FBQ1hDLE1BQU0sRUFBRUwsYUFmSCxLQWU0QixZQUFZO0tBQ2hEO0NBQ0o7QUFFTSxTQUFTTSxnQkFBZ0IsQ0FBQ0MsT0FBdUIsRUFBRTtJQUN0RCxPQUFPWCwwRUFBdUIsQ0FBQ1csT0FBTyxFQUFFVCxjQUFjLENBQUM7QUFDM0QsQ0FBQztBQUVNLFNBQVNVLGNBQWMsQ0FDMUJELE9BQW1ILEVBQ3JIO0lBQ0UsT0FBT1YscUVBQWtCLENBQUNVLE9BQU8sRUFBRVQsY0FBYyxDQUFDO0FBQ3RELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rlcy8uL3NyYy9saWJzL3dpdGgtc2Vzc2lvbi50cz81OTQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdpdGhJcm9uU2Vzc2lvbkFwaVJvdXRlLCB3aXRoSXJvblNlc3Npb25Tc3IgfSBmcm9tICdpcm9uLXNlc3Npb24vbmV4dCdcclxuaW1wb3J0IHsgR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCwgR2V0U2VydmVyU2lkZVByb3BzUmVzdWx0LCBOZXh0QXBpSGFuZGxlciB9IGZyb20gJ25leHQnXHJcbmltcG9ydCB7IElVc2VyIH0gZnJvbSAnQGludGVyZmFjZXMnXHJcblxyXG5kZWNsYXJlIG1vZHVsZSAnaXJvbi1zZXNzaW9uJyB7XHJcbiAgICBpbnRlcmZhY2UgSXJvblNlc3Npb25EYXRhIHtcclxuICAgICAgICB1c2VyPzogSVVzZXJcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNlc3Npb25PcHRpb25zID0ge1xyXG4gICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlNFQ1JFVCBhcyBzdHJpbmcsXHJcbiAgICBjb29raWVOYW1lOiAnYXV0aCcsXHJcbiAgICAvLyBzZWN1cmU6IHRydWUgc2hvdWxkIGJlIHVzZWQgaW4gcHJvZHVjdGlvbiAoSFRUUFMpIGJ1dCBjYW4ndCBiZSB1c2VkIGluIGRldmVsb3BtZW50IChIVFRQKVxyXG4gICAgY29va2llT3B0aW9uczoge1xyXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcclxuICAgIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoU2Vzc2lvblJvdXRlKGhhbmRsZXI6IE5leHRBcGlIYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gd2l0aElyb25TZXNzaW9uQXBpUm91dGUoaGFuZGxlciwgc2Vzc2lvbk9wdGlvbnMpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3aXRoU2Vzc2lvblNzcjxQIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH0gPSB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfT4oXHJcbiAgICBoYW5kbGVyOiAoY29udGV4dDogR2V0U2VydmVyU2lkZVByb3BzQ29udGV4dCkgPT4gR2V0U2VydmVyU2lkZVByb3BzUmVzdWx0PFA+IHwgUHJvbWlzZTxHZXRTZXJ2ZXJTaWRlUHJvcHNSZXN1bHQ8UD4+XHJcbikge1xyXG4gICAgcmV0dXJuIHdpdGhJcm9uU2Vzc2lvblNzcihoYW5kbGVyLCBzZXNzaW9uT3B0aW9ucylcclxufVxyXG4iXSwibmFtZXMiOlsid2l0aElyb25TZXNzaW9uQXBpUm91dGUiLCJ3aXRoSXJvblNlc3Npb25Tc3IiLCJzZXNzaW9uT3B0aW9ucyIsInBhc3N3b3JkIiwicHJvY2VzcyIsImVudiIsIlNFQ1JFVCIsImNvb2tpZU5hbWUiLCJjb29raWVPcHRpb25zIiwic2VjdXJlIiwid2l0aFNlc3Npb25Sb3V0ZSIsImhhbmRsZXIiLCJ3aXRoU2Vzc2lvblNzciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/libs/with-session.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/notes/index.ts":
/*!**************************************!*\
  !*** ./src/pages/api/notes/index.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _libs_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @libs/db */ \"(api)/./src/libs/db.ts\");\n/* harmony import */ var _libs_with_session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @libs/with-session */ \"(api)/./src/libs/with-session.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"uuid\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_libs_with_session__WEBPACK_IMPORTED_MODULE_1__, uuid__WEBPACK_IMPORTED_MODULE_2__]);\n([_libs_with_session__WEBPACK_IMPORTED_MODULE_1__, uuid__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_libs_with_session__WEBPACK_IMPORTED_MODULE_1__.withSessionRoute)(async (req, res)=>{\n    // Get notes\n    if (req.method === \"GET\") {\n        const userSession = req.session.user;\n        if (!userSession) return res.status(401).json({\n            detail: \"Could not fetch notes\"\n        });\n        try {\n            const page = parseInt(req.query.page);\n            const limit = parseInt(req.query.limit);\n            const includeContent = Boolean(req.query.includeContent);\n            const start = page * limit - limit;\n            let content = \"content\";\n            if (!includeContent) content = null;\n            const result = await (0,_libs_db__WEBPACK_IMPORTED_MODULE_0__.executeQuery)(`\r\n                        SELECT id, name, ${content}\r\n                        FROM note\r\n                        WHERE user_id = '${userSession.id}'\r\n                        ORDER BY created_at ASC\r\n                        LIMIT ${start}, ${limit};\r\n                        `);\n            const notes = [];\n            result.forEach((note)=>{\n                notes.push({\n                    id: note.id,\n                    name: note.name,\n                    content: note.content,\n                    isChecked: false\n                });\n            });\n            return res.status(200).json(notes);\n        } catch (error) {\n            return res.status(500).json({\n                detail: \"Could not fetch notes\"\n            });\n        }\n    } else if (req.method === \"POST\") {\n        const userSession1 = req.session.user;\n        if (!userSession1) return res.status(401).json({\n            detail: \"Could not create notes\"\n        });\n        try {\n            const noteCreate = req.body;\n            const newNoteId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__.v4)();\n            await (0,_libs_db__WEBPACK_IMPORTED_MODULE_0__.executeQuery)(`\r\n                    INSERT INTO note (id, user_id, name, content)\r\n                    VALUES ('${newNoteId}', '${userSession1.id}', '${noteCreate.name}', '${noteCreate.content}');\r\n                    `);\n            return res.status(201).json(newNoteId);\n        } catch (error1) {\n            return res.status(500).json({\n                detail: \"Could not create notes\"\n            });\n        }\n    } else {\n        return res.status(405).json({\n            detail: \"Invalid method\"\n        });\n    }\n}));\nconst config = {\n    api: {\n        bodyParser: {\n            sizeLimit: \"16mb\"\n        }\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL25vdGVzL2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ2M7QUFDbEI7QUFHbkMsaUVBQWVDLG9FQUFnQixDQUFDLE9BQU9HLEdBQUcsRUFBRUMsR0FBRyxHQUFLO0lBQ2hELFlBQVk7SUFDWixJQUFJRCxHQUFHLENBQUNFLE1BQU0sS0FBSyxLQUFLLEVBQUU7UUFDdEIsTUFBTUMsV0FBVyxHQUFHSCxHQUFHLENBQUNJLE9BQU8sQ0FBQ0MsSUFBSTtRQUNwQyxJQUFJLENBQUNGLFdBQVcsRUFBRSxPQUFPRixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLE1BQU0sRUFBRSx1QkFBdUI7U0FBRSxDQUFDO1FBRWxGLElBQUk7WUFDQSxNQUFNQyxJQUFJLEdBQUdDLFFBQVEsQ0FBQ1YsR0FBRyxDQUFDVyxLQUFLLENBQUNGLElBQUksQ0FBVztZQUMvQyxNQUFNRyxLQUFLLEdBQUdGLFFBQVEsQ0FBQ1YsR0FBRyxDQUFDVyxLQUFLLENBQUNDLEtBQUssQ0FBVztZQUNqRCxNQUFNQyxjQUFjLEdBQUdDLE9BQU8sQ0FBQ2QsR0FBRyxDQUFDVyxLQUFLLENBQUNFLGNBQWMsQ0FBVztZQUNsRSxNQUFNRSxLQUFLLEdBQUdOLElBQUksR0FBR0csS0FBSyxHQUFHQSxLQUFLO1lBQ2xDLElBQUlJLE9BQU8sR0FBa0IsU0FBUztZQUN0QyxJQUFJLENBQUNILGNBQWMsRUFBRUcsT0FBTyxHQUFHLElBQUk7WUFFbkMsTUFBTUMsTUFBTSxHQUFJLE1BQU1yQixzREFBWSxDQUM5QixDQUFDO1lBUUwsTUFBTXVCLEtBQUssR0FBWSxFQUFFO1lBQ3pCRixNQUFNLENBQUNHLE9BQU8sQ0FBQyxDQUFDQyxJQUFTO2dCQUNyQkYsS0FBSyxDQUFDRyxJQUFJLENBQUM7b0JBQ1BKLEVBQUUsRUFBRUcsSUFBSSxDQUFDSCxFQUFFO29CQUNYSyxJQUFJLEVBQUVGLElBQUksQ0FBQ0UsSUFBSTtvQkFDZlAsT0FBTztvQkFDUFEsU0FBUztpQkFDWixDQUFDO1lBQ04sQ0FBQyxDQUFDO1lBQ0YsT0FBT3ZCLEdBQUcsQ0FBQ0ssTUFBTSxDQUFDO1FBQ3RCLEVBQUUsT0FBT21CLEtBQUssRUFBRTtZQUNaLE9BQU94QixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUFFQyxNQUFNLEVBQUU7YUFBeUIsQ0FBQztRQUNwRSxDQUFDO0lBQ0wsT0FHSyxJQUFJUixHQUFHLENBQUNFLE1BQU0sS0FBSyxNQUFNLEVBQUU7UUFDNUIsTUFBTUM7UUFDTixJQUFJLENBQUNBLFlBQVcsRUFBRSxPQUFPRixHQUFHLENBQUNLO1lBQW1CRSxNQUFNLEVBQUUsd0JBQXdCO1NBQUUsQ0FBQztRQUVuRjtZQUNJLE1BQU1rQixVQUFVLEdBQWdCMUIsR0FBRyxDQUFDMkIsSUFBSTtZQUN4QyxNQUFNQyxTQUFTLEdBQUc3QixNQUFNLEVBQUU7WUFDMUIsTUFBTUgsWUFBWSxDQUNkLENBQUM7WUFLTCxPQUFPSyxHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDcUI7UUFDaEMsRUFBRTtZQUNFO2dCQUE4QnBCLE1BQU0sRUFBRTthQUEwQixDQUFDO1FBQ3JFLENBQUM7SUFDTCxPQUdLO1FBQ0QsT0FBT1AsR0FBRyxDQUFDSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFQyxNQUFNLEVBQUU7U0FBa0IsQ0FBQztJQUM3RCxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsT0FBTyxNQUFNcUIsTUFBTSxHQUFHO0lBQ2xCQyxHQUFHLEVBQUU7UUFDREM7WUFDSUM7U0FDSDtLQUNKO0NBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rlcy8uL3NyYy9wYWdlcy9hcGkvbm90ZXMvaW5kZXgudHM/YjdjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjdXRlUXVlcnkgfSBmcm9tICdAbGlicy9kYidcclxuaW1wb3J0IHsgd2l0aFNlc3Npb25Sb3V0ZSB9IGZyb20gJ0BsaWJzL3dpdGgtc2Vzc2lvbidcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCdcclxuaW1wb3J0IHsgSU5vdGUsIElOb3RlQ3JlYXRlIH0gZnJvbSAnQGludGVyZmFjZXMnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB3aXRoU2Vzc2lvblJvdXRlKGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgLy8gR2V0IG5vdGVzXHJcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgICAgICBjb25zdCB1c2VyU2Vzc2lvbiA9IHJlcS5zZXNzaW9uLnVzZXJcclxuICAgICAgICBpZiAoIXVzZXJTZXNzaW9uKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBkZXRhaWw6ICdDb3VsZCBub3QgZmV0Y2ggbm90ZXMnIH0pXHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChyZXEucXVlcnkucGFnZSBhcyBzdHJpbmcpXHJcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0IGFzIHN0cmluZylcclxuICAgICAgICAgICAgY29uc3QgaW5jbHVkZUNvbnRlbnQgPSBCb29sZWFuKHJlcS5xdWVyeS5pbmNsdWRlQ29udGVudCBhcyBzdHJpbmcpXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFnZSAqIGxpbWl0IC0gbGltaXRcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnQ6IHN0cmluZyB8IG51bGwgPSAnY29udGVudCdcclxuICAgICAgICAgICAgaWYgKCFpbmNsdWRlQ29udGVudCkgY29udGVudCA9IG51bGxcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChhd2FpdCBleGVjdXRlUXVlcnkoXHJcbiAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNFTEVDVCBpZCwgbmFtZSwgJHtjb250ZW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBGUk9NIG5vdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgV0hFUkUgdXNlcl9pZCA9ICcke3VzZXJTZXNzaW9uLmlkfSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1JERVIgQlkgY3JlYXRlZF9hdCBBU0NcclxuICAgICAgICAgICAgICAgICAgICAgICAgTElNSVQgJHtzdGFydH0sICR7bGltaXR9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICkpIGFzIGFueVxyXG4gICAgICAgICAgICBjb25zdCBub3RlczogSU5vdGVbXSA9IFtdXHJcbiAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKChub3RlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIG5vdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBub3RlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5vdGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBub3RlLmNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNDaGVja2VkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihub3RlcylcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBkZXRhaWw6ICdDb3VsZCBub3QgZmV0Y2ggbm90ZXMnIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgbm90ZVxyXG4gICAgZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbiAgICAgICAgY29uc3QgdXNlclNlc3Npb24gPSByZXEuc2Vzc2lvbi51c2VyXHJcbiAgICAgICAgaWYgKCF1c2VyU2Vzc2lvbikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZGV0YWlsOiAnQ291bGQgbm90IGNyZWF0ZSBub3RlcycgfSlcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3Qgbm90ZUNyZWF0ZTogSU5vdGVDcmVhdGUgPSByZXEuYm9keVxyXG4gICAgICAgICAgICBjb25zdCBuZXdOb3RlSWQgPSB1dWlkdjQoKVxyXG4gICAgICAgICAgICBhd2FpdCBleGVjdXRlUXVlcnkoXHJcbiAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gbm90ZSAoaWQsIHVzZXJfaWQsIG5hbWUsIGNvbnRlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgVkFMVUVTICgnJHtuZXdOb3RlSWR9JywgJyR7dXNlclNlc3Npb24uaWR9JywgJyR7bm90ZUNyZWF0ZS5uYW1lfScsICcke25vdGVDcmVhdGUuY29udGVudH0nKTtcclxuICAgICAgICAgICAgICAgICAgICBgXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld05vdGVJZClcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBkZXRhaWw6ICdDb3VsZCBub3QgY3JlYXRlIG5vdGVzJyB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJbnZhbGlkXHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBkZXRhaWw6ICdJbnZhbGlkIG1ldGhvZCcgfSlcclxuICAgIH1cclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgICBhcGk6IHtcclxuICAgICAgICBib2R5UGFyc2VyOiB7XHJcbiAgICAgICAgICAgIHNpemVMaW1pdDogJzE2bWInLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG59XHJcbiJdLCJuYW1lcyI6WyJleGVjdXRlUXVlcnkiLCJ3aXRoU2Vzc2lvblJvdXRlIiwidjQiLCJ1dWlkdjQiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJ1c2VyU2Vzc2lvbiIsInNlc3Npb24iLCJ1c2VyIiwic3RhdHVzIiwianNvbiIsImRldGFpbCIsInBhZ2UiLCJwYXJzZUludCIsInF1ZXJ5IiwibGltaXQiLCJpbmNsdWRlQ29udGVudCIsIkJvb2xlYW4iLCJzdGFydCIsImNvbnRlbnQiLCJyZXN1bHQiLCJpZCIsIm5vdGVzIiwiZm9yRWFjaCIsIm5vdGUiLCJwdXNoIiwibmFtZSIsImlzQ2hlY2tlZCIsImVycm9yIiwibm90ZUNyZWF0ZSIsImJvZHkiLCJuZXdOb3RlSWQiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwic2l6ZUxpbWl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/notes/index.ts\n");

/***/ }),

/***/ "(api)/./node_modules/iron-session/next/dist/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/iron-session/next/dist/index.mjs ***!
  \*******************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"withIronSessionApiRoute\": () => (/* binding */ withIronSessionApiRoute),\n/* harmony export */   \"withIronSessionSsr\": () => (/* binding */ withIronSessionSsr)\n/* harmony export */ });\n/* harmony import */ var iron_session__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! iron-session */ \"iron-session\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([iron_session__WEBPACK_IMPORTED_MODULE_0__]);\niron_session__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// next/index.ts\n\n\n// src/getPropertyDescriptorForReqSession.ts\nfunction getPropertyDescriptorForReqSession(session) {\n  return {\n    enumerable: true,\n    get() {\n      return session;\n    },\n    set(value) {\n      const keys = Object.keys(value);\n      const currentKeys = Object.keys(session);\n      currentKeys.forEach((key) => {\n        if (!keys.includes(key)) {\n          delete session[key];\n        }\n      });\n      keys.forEach((key) => {\n        session[key] = value[key];\n      });\n    }\n  };\n}\n\n// next/index.ts\nfunction withIronSessionApiRoute(handler, options) {\n  return async function nextApiHandlerWrappedWithIronSession(req, res) {\n    let sessionOptions;\n    if (options instanceof Function) {\n      sessionOptions = await options(req, res);\n    } else {\n      sessionOptions = options;\n    }\n    const session = await (0,iron_session__WEBPACK_IMPORTED_MODULE_0__.getIronSession)(req, res, sessionOptions);\n    Object.defineProperty(\n      req,\n      \"session\",\n      getPropertyDescriptorForReqSession(session)\n    );\n    return handler(req, res);\n  };\n}\nfunction withIronSessionSsr(handler, options) {\n  return async function nextGetServerSidePropsHandlerWrappedWithIronSession(context) {\n    let sessionOptions;\n    if (options instanceof Function) {\n      sessionOptions = await options(context.req, context.res);\n    } else {\n      sessionOptions = options;\n    }\n    const session = await (0,iron_session__WEBPACK_IMPORTED_MODULE_0__.getIronSession)(\n      context.req,\n      context.res,\n      sessionOptions\n    );\n    Object.defineProperty(\n      context.req,\n      \"session\",\n      getPropertyDescriptorForReqSession(session)\n    );\n    return handler(context);\n  };\n}\n\n//# sourceMappingURL=index.mjs.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvaXJvbi1zZXNzaW9uL25leHQvZGlzdC9pbmRleC5tanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDOEM7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLDBCQUEwQiw0REFBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsMEJBQTBCLDREQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0Ysa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rlcy8uL25vZGVfbW9kdWxlcy9pcm9uLXNlc3Npb24vbmV4dC9kaXN0L2luZGV4Lm1qcz80OTg0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIG5leHQvaW5kZXgudHNcbmltcG9ydCB7IGdldElyb25TZXNzaW9uIH0gZnJvbSBcImlyb24tc2Vzc2lvblwiO1xuXG4vLyBzcmMvZ2V0UHJvcGVydHlEZXNjcmlwdG9yRm9yUmVxU2Vzc2lvbi50c1xuZnVuY3Rpb24gZ2V0UHJvcGVydHlEZXNjcmlwdG9yRm9yUmVxU2Vzc2lvbihzZXNzaW9uKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRLZXlzID0gT2JqZWN0LmtleXMoc2Vzc2lvbik7XG4gICAgICBjdXJyZW50S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICBkZWxldGUgc2Vzc2lvbltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIHNlc3Npb25ba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIG5leHQvaW5kZXgudHNcbmZ1bmN0aW9uIHdpdGhJcm9uU2Vzc2lvbkFwaVJvdXRlKGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIG5leHRBcGlIYW5kbGVyV3JhcHBlZFdpdGhJcm9uU2Vzc2lvbihyZXEsIHJlcykge1xuICAgIGxldCBzZXNzaW9uT3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICBzZXNzaW9uT3B0aW9ucyA9IGF3YWl0IG9wdGlvbnMocmVxLCByZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXNzaW9uT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRJcm9uU2Vzc2lvbihyZXEsIHJlcywgc2Vzc2lvbk9wdGlvbnMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgIHJlcSxcbiAgICAgIFwic2Vzc2lvblwiLFxuICAgICAgZ2V0UHJvcGVydHlEZXNjcmlwdG9yRm9yUmVxU2Vzc2lvbihzZXNzaW9uKVxuICAgICk7XG4gICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpO1xuICB9O1xufVxuZnVuY3Rpb24gd2l0aElyb25TZXNzaW9uU3NyKGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIG5leHRHZXRTZXJ2ZXJTaWRlUHJvcHNIYW5kbGVyV3JhcHBlZFdpdGhJcm9uU2Vzc2lvbihjb250ZXh0KSB7XG4gICAgbGV0IHNlc3Npb25PcHRpb25zO1xuICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgIHNlc3Npb25PcHRpb25zID0gYXdhaXQgb3B0aW9ucyhjb250ZXh0LnJlcSwgY29udGV4dC5yZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXNzaW9uT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRJcm9uU2Vzc2lvbihcbiAgICAgIGNvbnRleHQucmVxLFxuICAgICAgY29udGV4dC5yZXMsXG4gICAgICBzZXNzaW9uT3B0aW9uc1xuICAgICk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgY29udGV4dC5yZXEsXG4gICAgICBcInNlc3Npb25cIixcbiAgICAgIGdldFByb3BlcnR5RGVzY3JpcHRvckZvclJlcVNlc3Npb24oc2Vzc2lvbilcbiAgICApO1xuICAgIHJldHVybiBoYW5kbGVyKGNvbnRleHQpO1xuICB9O1xufVxuZXhwb3J0IHtcbiAgd2l0aElyb25TZXNzaW9uQXBpUm91dGUsXG4gIHdpdGhJcm9uU2Vzc2lvblNzclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/iron-session/next/dist/index.mjs\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/notes/index.ts"));
module.exports = __webpack_exports__;

})();